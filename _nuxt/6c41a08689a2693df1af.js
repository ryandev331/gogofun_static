(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{235:function(e,t,r){"use strict";var o=Object.prototype.hasOwnProperty,n=Array.isArray,c=function(){for(var e=[],i=0;i<256;++i)e.push("%"+((i<16?"0":"")+i.toString(16)).toUpperCase());return e}(),l=function(source,e){for(var t=e&&e.plainObjects?Object.create(null):{},i=0;i<source.length;++i)void 0!==source[i]&&(t[i]=source[i]);return t};e.exports={arrayToObject:l,assign:function(e,source){return Object.keys(source).reduce((function(e,t){return e[t]=source[t],e}),e)},combine:function(a,b){return[].concat(a,b)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],i=0;i<t.length;++i)for(var o=t[i],c=o.obj[o.prop],l=Object.keys(c),f=0;f<l.length;++f){var d=l[f],h=c[d];"object"==typeof h&&null!==h&&-1===r.indexOf(h)&&(t.push({obj:c,prop:d}),r.push(h))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(n(r)){for(var o=[],c=0;c<r.length;++c)void 0!==r[c]&&o.push(r[c]);t.obj[t.prop]=o}}}(t),e},decode:function(e,t,r){var o=e.replace(/\+/g," ");if("iso-8859-1"===r)return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch(e){return o}},encode:function(e,t,r){if(0===e.length)return e;var o="string"==typeof e?e:String(e);if("iso-8859-1"===r)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var n="",i=0;i<o.length;++i){var l=o.charCodeAt(i);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122?n+=o.charAt(i):l<128?n+=c[l]:l<2048?n+=c[192|l>>6]+c[128|63&l]:l<55296||l>=57344?n+=c[224|l>>12]+c[128|l>>6&63]+c[128|63&l]:(i+=1,l=65536+((1023&l)<<10|1023&o.charCodeAt(i)),n+=c[240|l>>18]+c[128|l>>12&63]+c[128|l>>6&63]+c[128|63&l])}return n},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,source,r){if(!source)return t;if("object"!=typeof source){if(n(t))t.push(source);else{if(!t||"object"!=typeof t)return[t,source];(r&&(r.plainObjects||r.allowPrototypes)||!o.call(Object.prototype,source))&&(t[source]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(source);var c=t;return n(t)&&!n(source)&&(c=l(t,r)),n(t)&&n(source)?(source.forEach((function(n,i){if(o.call(t,i)){var c=t[i];c&&"object"==typeof c&&n&&"object"==typeof n?t[i]=e(c,n,r):t.push(n)}else t[i]=n})),t):Object.keys(source).reduce((function(t,n){var c=source[n];return o.call(t,n)?t[n]=e(t[n],c,r):t[n]=c,t}),c)}}},236:function(e,t,r){"use strict";var o=String.prototype.replace,n=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return o.call(e,n,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},250:function(e,t,r){"use strict";var o=r(258),n=r(259),c=r(236);e.exports={formats:c,parse:n,stringify:o}},258:function(e,t,r){"use strict";var o=r(235),n=r(236),c=Object.prototype.hasOwnProperty,l={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},f=Array.isArray,d=Array.prototype.push,h=function(e,t){d.apply(e,f(t)?t:[t])},y=Date.prototype.toISOString,m={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,formatter:n.formatters[n.default],indices:!1,serializeDate:function(e){return y.call(e)},skipNulls:!1,strictNullHandling:!1},v=function e(object,t,r,n,c,l,filter,d,y,v,w,j,O){var x=object;if("function"==typeof filter?x=filter(t,x):x instanceof Date?x=v(x):"comma"===r&&f(x)&&(x=x.join(",")),null===x){if(n)return l&&!j?l(t,m.encoder,O):t;x=""}if("string"==typeof x||"number"==typeof x||"boolean"==typeof x||o.isBuffer(x))return l?[w(j?t:l(t,m.encoder,O))+"="+w(l(x,m.encoder,O))]:[w(t)+"="+w(String(x))];var k,P=[];if(void 0===x)return P;if(f(filter))k=filter;else{var S=Object.keys(x);k=d?S.sort(d):S}for(var i=0;i<k.length;++i){var N=k[i];c&&null===x[N]||(f(x)?h(P,e(x[N],"function"==typeof r?r(t,N):t,r,n,c,l,filter,d,y,v,w,j,O)):h(P,e(x[N],t+(y?"."+N:"["+N+"]"),r,n,c,l,filter,d,y,v,w,j,O)))}return P};e.exports=function(object,e){var t,r=object,o=function(e){if(!e)return m;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||m.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=n.default;if(void 0!==e.format){if(!c.call(n.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var o=n.formatters[r],filter=m.filter;return("function"==typeof e.filter||f(e.filter))&&(filter=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:m.addQueryPrefix,allowDots:void 0===e.allowDots?m.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:m.charsetSentinel,delimiter:void 0===e.delimiter?m.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:m.encode,encoder:"function"==typeof e.encoder?e.encoder:m.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:m.encodeValuesOnly,filter:filter,formatter:o,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:m.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:m.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:m.strictNullHandling}}(e);"function"==typeof o.filter?r=(0,o.filter)("",r):f(o.filter)&&(t=o.filter);var d,y=[];if("object"!=typeof r||null===r)return"";d=e&&e.arrayFormat in l?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var w=l[d];t||(t=Object.keys(r)),o.sort&&t.sort(o.sort);for(var i=0;i<t.length;++i){var j=t[i];o.skipNulls&&null===r[j]||h(y,v(r[j],j,w,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.formatter,o.encodeValuesOnly,o.charset))}var O=y.join(o.delimiter),x=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),O.length>0?x+O:""}},259:function(e,t,r){"use strict";var o=r(235),n=Object.prototype.hasOwnProperty,c={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:o.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},l=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},f=function(e,t,r){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,c=/(\[[^[\]]*])/g,l=/(\[[^[\]]*])/.exec(o),f=l?o.slice(0,l.index):o,d=[];if(f){if(!r.plainObjects&&n.call(Object.prototype,f)&&!r.allowPrototypes)return;d.push(f)}for(var i=0;null!==(l=c.exec(o))&&i<r.depth;){if(i+=1,!r.plainObjects&&n.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;d.push(l[1])}return l&&d.push("["+o.slice(l.index)+"]"),function(e,t,r){for(var o=t,i=e.length-1;i>=0;--i){var n,c=e[i];if("[]"===c&&r.parseArrays)n=[].concat(o);else{n=r.plainObjects?Object.create(null):{};var l="["===c.charAt(0)&&"]"===c.charAt(c.length-1)?c.slice(1,-1):c,f=parseInt(l,10);r.parseArrays||""!==l?!isNaN(f)&&c!==l&&String(f)===l&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(n=[])[f]=o:n[l]=o:n={0:o}}o=n}return o}(d,t,r)}};e.exports=function(e,t){var r=function(e){if(!e)return c;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?c.charset:e.charset;return{allowDots:void 0===e.allowDots?c.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:c.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:c.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:c.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:c.comma,decoder:"function"==typeof e.decoder?e.decoder:c.decoder,delimiter:"string"==typeof e.delimiter||o.isRegExp(e.delimiter)?e.delimiter:c.delimiter,depth:"number"==typeof e.depth?e.depth:c.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:c.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:c.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:c.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:c.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var d="string"==typeof e?function(e,t){var i,r={},f=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,d=t.parameterLimit===1/0?void 0:t.parameterLimit,h=f.split(t.delimiter,d),y=-1,m=t.charset;if(t.charsetSentinel)for(i=0;i<h.length;++i)0===h[i].indexOf("utf8=")&&("utf8=%E2%9C%93"===h[i]?m="utf-8":"utf8=%26%2310003%3B"===h[i]&&(m="iso-8859-1"),y=i,i=h.length);for(i=0;i<h.length;++i)if(i!==y){var v,w,j=h[i],O=j.indexOf("]="),x=-1===O?j.indexOf("="):O+1;-1===x?(v=t.decoder(j,c.decoder,m),w=t.strictNullHandling?null:""):(v=t.decoder(j.slice(0,x),c.decoder,m),w=t.decoder(j.slice(x+1),c.decoder,m)),w&&t.interpretNumericEntities&&"iso-8859-1"===m&&(w=l(w)),w&&t.comma&&w.indexOf(",")>-1&&(w=w.split(",")),n.call(r,v)?r[v]=o.combine(r[v],w):r[v]=w}return r}(e,r):e,h=r.plainObjects?Object.create(null):{},y=Object.keys(d),i=0;i<y.length;++i){var m=y[i],v=f(m,d[m],r);h=o.merge(h,v,r)}return o.compact(h)}},447:function(e,t,r){},662:function(e,t,r){"use strict";var o=r(663);function n(e){this.message=e}n.prototype=new Error,n.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new n("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(o(e.split(".")[r]))}catch(e){throw new n("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=n},663:function(e,t,r){var o=r(664);e.exports=function(e){var output=e.replace(/-/g,"+").replace(/_/g,"/");switch(output.length%4){case 0:break;case 2:output+="==";break;case 3:output+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(o(e).replace(/(.)/g,(function(e,p){var code=p.charCodeAt(0).toString(16).toUpperCase();return code.length<2&&(code="0"+code),"%"+code})))}(output)}catch(e){return o(output)}}},664:function(e,t){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(e){this.message=e}o.prototype=new Error,o.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(input){var e=String(input).replace(/=+$/,"");if(e.length%4==1)throw new o("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,n,c=0,l=0,output="";n=e.charAt(l++);~n&&(t=c%4?64*t+n:n,c++%4)?output+=String.fromCharCode(255&t>>(-2*c&6)):0)n=r.indexOf(n);return output}},665:function(e,t,r){"use strict";var o=r(447);r.n(o).a},681:function(e,t,r){"use strict";r.r(t);var o=r(103),n=r.n(o),c=n.a.create({baseURL:"https://api.line.me",headers:{"Content-Type":"application/x-www-form-urlencoded"}}),l=r(250),f=r.n(l),d=r(662),h=r.n(d),y={name:"checkThirdLogin",data:function(){return{postData:{data:{login_type:"2",code:""}},userProfile:null,userFriendShip:null,Authorization:""}},mounted:function(){this.postData.data.code=this.$route.query.code;var e=f.a.stringify(this.postData);console.log(e),this.submit(e)},methods:{getLineAccessToken:function(e){var data,t=this;(data=e,c.post("/oauth2/v2.1/token",data)).then((function(e){t.Authorization=e.data.access_token,console.log("Token response:",e.data),console.log("Token jwtDecode:",h()(e.data.id_token))})).catch((function(e){console.log(e)}))},getLineUserProfile:function(){var e,t=this;(e={headers:{Authorization:"Bearer ".concat(this.Authorization)}},c.get("/v2/profile",e)).then((function(e){t.userProfile=e.data,console.log("Profile response:",e.data)})).catch((function(e){console.error(e)}))},submit:function(e){var t=this;n.a.post("/test_user/login",e).then((function(r){switch(console.log("postData",e),console.log("response",r),console.log("response data",r.data),r.data.status){case"0":t.switchModal("showModal","responseSignin","responseSigninText","/登入成功");break;case"1":t.switchModal("showModal","responseSignin","responseSigninText","無此電話號碼");break;case"2":console.log(),t.switchModal("showModal","responseSignin","responseSigninText","密碼錯誤")}})).then((function(e){console.log("error:"+e)}))}}},m=(r(665),r(11)),component=Object(m.a)(y,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",[e._v("驗證中~")]),e._v(" "),r("div",[r("button",{attrs:{disabled:null!==e.userProfile},on:{click:e.getLineUserProfile}},[e._v("\n\t\t\tGet Line User Profile!\n\t\t")])]),e._v(" "),e.userProfile?r("div",[r("b-card",{staticClass:"overflow-hidden",staticStyle:{"max-width":"540px"},attrs:{"no-body":""}},[r("b-row",{attrs:{"no-gutters":""}},[r("b-col",{attrs:{md:"6"}},[r("b-card-img",{staticClass:"rounded-0",attrs:{src:e.userProfile.pictureUrl}})],1),e._v(" "),r("b-col",{attrs:{md:"6"}},[r("b-card-body",{attrs:{title:e.userProfile.displayName}},[r("b-card-text",[e._v("\n\t\t\t\t\t\t\t"+e._s(e.userProfile.statusMessage)+"\n\n\t\t\t\t\t\t\t"+e._s(e.userProfile.userId)+"\n\t\t\t\t\t\t")])],1)],1)],1)],1)],1):e._e()])}),[],!1,null,"5480e3a0",null);t.default=component.exports}}]);